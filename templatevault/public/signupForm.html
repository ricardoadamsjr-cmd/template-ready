<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="images/TemplateVault Logo.png" type="image/x-icon">
    <title>Sign Up | Airastadt Build and Host</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/login.css">
    
    <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-firestore.js"></script>
</head>

<body> <div class="mobile-menu-overlay" id="mobileMenuOverlay">
        <div class="mobile-menu-content">
            <button class="mobile-menu-close" onclick="closeMobileMenu()" title="Close mobile menu">
                <i class="fas fa-times"></i>
            </button>
            <nav class="mobile-nav">
                <a href="index.html#home" class="mobile-nav-link" onclick="closeMobileMenu()">Home</a>
                <a href="index.html#templates" class="mobile-nav-link" onclick="closeMobileMenu()">Websites</a>
                <a href="index.html#features" class="mobile-nav-link" onclick="closeMobileMenu()">Features</a>
                <a href="index.html#pricing" class="mobile-nav-link" onclick="closeMobileMenu()">Pricing</a>
                <a href="index.html#contact" class="mobile-nav-link" onclick="closeMobileMenu()">Contact</a>
                <a href="loginForm.html" class="mobile-nav-link" onclick="closeMobileMenu()">Log-in</a>
                <a href="signupForm.html" class="mobile-nav-link" onclick="closeMobileMenu()">Sign-up</a>
            </nav>
        </div>
    </div>

    <div class="animated-bg"></div>
    <div class="floating-elements">
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
    </div>

    <header class="header" id="header">
        <div class="nav-container">
            <a href="index.html#home" class="logo">Airastadt Build and Host</a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html#home" class="nav-link">Home</a></li>
                    <li><a href="index.html#templates" class="nav-link">Websites</a></li>
                    <li><a href="index.html#features" class="nav-link">Features</a></li>
                    <li><a href="index.html#pricing" class="nav-link">Pricing</a></li>
                    <li><a href="loginForm.html" class="nav-link">Log-in</a></li>
                </ul>
            </nav>
            <a href="auth.html" id="dashboardBtn" class="cta-button pulse">Dashboard</a>
            <button class="cta-button pulse" onclick="openMobileMenu()" title="Open mobile menu" style="display: none;">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <main>
        <div class="auth-container">
            <h2>Welcome</h2>
            <p style="margin-bottom: 20px; color: #666;">Sign up to view the dashboard and website previews</p>
            <form id="signupForm">
                <h3>Create Account</h3>
                <input type="text" id="fullName" placeholder="Full Name" required>
                <input type="text" id="company" placeholder="Company (optional)">
                <input type="email" id="signupEmail" placeholder="Email" required>
                <input type="password" id="signupPassword" placeholder="Password" required>
                <button type="submit">Sign Up</button>
            </form>
            <p id="authMessage"></p>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Airastadt Build and Host</h4>
                <p>Premium websites designed for entrepreneurs and startups who want to launch fast and scale quickly.</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul class="footer-links">
                    <li><a href="index.html#home" class="footer-link">Home</a></li>
                    <li><a href="index.html#templates" class="footer-link">Websites</a></li>
                    <li><a href="index.html#pricing" class="footer-link">Pricing</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Legal</h4>
                <ul class="footer-links">
                    <li><a href="privacy.html" class="footer-link">Privacy Policy</a></li>
                    <li><a href="termsofservice.html" class="footer-link">Terms of Service</a></li>
                    <li><a href="cookie_policy.html" class="footer-link">Cookie Policy</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 Airastadt Build and Host. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/script.js"></script>
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, onAuthStateChanged } 
          from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, serverTimestamp } 
          from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

        const firebaseConfig = {
          apiKey: "AIzaSyBhsMRHyuWF-R9MyRKKjzGQC0p-eznYILE",
          authDomain: "uplift-local.firebaseapp.com",
          projectId: "uplift-local",
          storageBucket: "uplift-local.appspot.com",
          messagingSenderId: "615612260052",
          appId: "1:615612260052:web:c7cac371c0698314e36541"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        const signupForm = document.getElementById('signupForm');
        const authMessage = document.getElementById('authMessage');

        onAuthStateChanged(auth, (user) => {
          if (user) { window.location.href = "dashboard.html"; }
        });

        signupForm.addEventListener('submit', async (e) => {
          e.preventDefault();
          const fullName = document.getElementById('fullName').value;
          const company = document.getElementById('company').value || null;
          const email = document.getElementById('signupEmail').value;
          const password = document.getElementById('signupPassword').value;

          try {
            const userCredential = await createUserWithEmailAndPassword(auth, email, password);
            const uid = userCredential.user.uid;

            await setDoc(doc(db, "users", uid), {
              fullName: fullName,
              company: company || null,
              uid: uid,
              email: email,
              subscriptionStatus: "free",
              createdAt: serverTimestamp()
            });

            window.location.href = "dashboard.html";
          } catch (error) {
            authMessage.textContent = "‚ùå Error: " + error.message;
          }
        });
    </script>
</body>
</html>